(this["webpackJsonpaeropress-dice"]=this["webpackJsonpaeropress-dice"]||[]).push([[0],{19:function(e,t,s){},20:function(e,t,s){},24:function(e,t,s){"use strict";s.r(t);var i=s(1),r=s.n(i),n=s(8),c=s.n(n),a=(s(19),s(2)),o=s(3),d=s(6),l=s(5),h=(s(20),s(10)),u=s(26),j=s(27),m=s(0),b=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var i;return Object(a.a)(this,s),(i=t.call(this,e)).state={key:e.key,startTimerSeconds:e.startTimerSeconds,startMessage:e.startMessage,timerRunningMessage:e.timerRunningMessage,finishedMessage:e.finishedMessage,started:!1,finished:!1,currentTimerSeconds:e.startTimerSeconds},i._isMounted=!1,i}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"startTimer",value:function(){var e=this;if(!this.state.started)var t=setInterval((function(){e._isMounted&&(e.state.currentTimerSeconds>=0?e.setState({started:!0,currentTimerSeconds:e.state.currentTimerSeconds-.1}):(e.setState({finished:!0}),clearInterval(t)))}),100)}},{key:"render",value:function(){var e,t=this.state.currentTimerSeconds.toLocaleString(void 0,{minimumFractionDigits:1}),s=["btn","btn-timer"];return this.state.started?this.state.currentTimerSeconds>0?e=Object(m.jsxs)("span",{children:[Object(m.jsx)("strong",{children:t}),"s ",this.state.timerRunningMessage]}):(e=Object(m.jsx)("span",{children:this.state.finishedMessage}),s=s.concat(["btn-timer--finished"])):(e=Object(m.jsxs)("span",{children:[Object(m.jsx)("strong",{children:t}),"s ",this.state.startMessage]}),s=s.concat(["btn-timer--start"])),Object(m.jsx)("button",{className:s.join(" "),onClick:this.startTimer.bind(this),children:e})}}]),s}(r.a.Component),p=[{coffee:23,water:200},{coffee:18,water:250},{coffee:15,water:250},{coffee:12,water:200}],f=[{grind:"fine",time:60},{grind:"medium",time:90},{grind:"coarse",time:120}],O=[20,30,40],v=[30,60],_=[80,85,90,95],x=[0,1,2];function g(e){return e[Math.floor(Math.random()*e.length)]}function w(e){return e?JSON.parse(atob(e)):{}}var S=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var i;Object(a.a)(this,s),i=t.call(this,e),console.log(e),i.handleClick=i.handleClick.bind(Object(h.a)(i));var r=w(e.recipeHash);return i.state={numOfRefreshes:0,started:null!=e.recipeHash,inverted:r[0]||!1,bloomSeconds:O[r[1]]||O[0],bloomWaterG:v[r[2]]||v[0],brewTempC:_[r[3]]||_[0],coffeeWaterRatio:p[r[4]]||p[0],grindBrewTime:f[r[5]]||f[0],clockwiseStirTimes:x[r[6]]||x[0],anticlockwiseStir:r[7]||!0,recipeHash:w(e.recipeHash)},i}return Object(o.a)(s,[{key:"recipeToHash",value:function(){var e=[this.state.inverted?1:0,O.indexOf(this.state.bloomSeconds),v.indexOf(this.state.bloomWaterG),_.indexOf(this.state.brewTempC),p.indexOf(this.state.coffeeWaterRatio),f.indexOf(this.state.grindBrewTime),x.indexOf(this.state.clockwiseStirTimes),this.state.anticlockwiseStir?1:0];return btoa(JSON.stringify(e))}},{key:"recipeUrl",value:function(){return"https://thewinniewu.github.io/aeropress-dice?recipe="+this.recipeToHash()}},{key:"handleClick",value:function(){var e=this;this.setState({started:!1,animating:!0,numOfRefreshes:this.state.numOfRefreshes+1}),this.timer=setTimeout((function(t){e.setState({started:!0,inverted:g([!0,!1]),bloomSeconds:g(O),bloomWaterG:g(v),brewTempC:g(_),coffeeWaterRatio:g(p),grindBrewTime:g(f),clockwiseStirTimes:g(x),anticlockwiseStir:g([!0,!1])})}),400)}},{key:"renderHeatWaterStep",value:function(){return Object(m.jsxs)("div",{className:"recipe__instruction",children:["Heat ",Object(m.jsxs)("strong",{children:[this.state.coffeeWaterRatio.water,"g"]})," of water to ",Object(m.jsxs)("strong",{children:[this.state.brewTempC,"\xb0C"]})," /",Object(m.jsxs)("strong",{children:[(e=this.state.brewTempC,9*e/5+32),"\xb0F"]}),"."]});var e}},{key:"renderGrindCoffeeStep",value:function(){return Object(m.jsxs)("div",{className:"recipe__instruction",children:["Grind ",Object(m.jsxs)("strong",{children:[this.state.coffeeWaterRatio.coffee,"g"]})," of coffee to a ",this.state.grindBrewTime.grind," grind."]})}},{key:"renderPourCoffeeStep",value:function(){return Object(m.jsx)("div",{className:"recipe__instruction",children:"Pour in the ground coffee."})}},{key:"renderInvertStep",value:function(){return this.state.inverted?Object(m.jsx)("div",{className:"recipe__instruction",children:"Place the aeropress in the upside-down orientation."}):Object(m.jsx)("div",{className:"recipe__instruction",children:"Place the aeropress on the mug in the normal orientation with wet filter and cap on."})}},{key:"renderBloomStep",value:function(){if(this.state.bloomWaterG>0)return Object(m.jsxs)("div",{className:"recipe__instructions__row",children:[Object(m.jsx)("div",{className:"recipe__button-col",children:Object(m.jsx)(b,{startMessage:"\u231b",timerRunningMessage:"\u231b",finishedMessage:"Done! \u2705",startTimerSeconds:this.state.bloomSeconds},this.state.numOfRefreshes)}),Object(m.jsxs)("div",{className:"recipe__instruction",children:["Add ",Object(m.jsxs)("strong",{children:[this.state.bloomWaterG,"g"]})," of water and wait",Object(m.jsxs)("strong",{children:[" ",this.state.bloomSeconds]})," seconds for the coffee to bloom."]})]})}},{key:"renderAddWaterStep",value:function(){return this.state.bloomWaterG>0?Object(m.jsxs)("div",{className:"recipe__instruction",children:["Add the remaining ",Object(m.jsxs)("strong",{children:[this.state.coffeeWaterRatio.water-this.state.bloomWaterG,"g"]})," of water."]}):Object(m.jsxs)("div",{className:"recipe__instruction",children:["Add all the water (",Object(m.jsxs)("strong",{children:[this.state.coffeeWaterRatio.water,"g"]}),")."]})}},{key:"renderBrewStep",value:function(){return Object(m.jsxs)("div",{className:"recipe__instructions__row",children:[Object(m.jsx)("div",{className:"recipe__button-col",children:Object(m.jsx)(b,{startMessage:"\u231b",timerRunningMessage:"\u231b",finishedMessage:"Done! \u2705",startTimerSeconds:this.state.grindBrewTime.time},this.state.numOfRefreshes)}),Object(m.jsxs)("div",{className:"recipe__instruction",children:["Wait ",Object(m.jsxs)("strong",{children:[this.state.grindBrewTime.time,"s"]})," to brew."]})]})}},{key:"renderStirStep",value:function(){if(this.state.clockwiseStirTimes>0){var e="";return e+="Stir "+((1===(t=this.state.clockwiseStirTimes)?"once":t+" times")+" in one direction."),this.state.anticlockwiseStir&&(e+=" Repeat in the other direction."),Object(m.jsx)("div",{className:"recipe__instruction",children:e})}var t}},{key:"renderEndInvertStep",value:function(){if(this.state.inverted)return Object(m.jsx)("div",{className:"recipe__instruction",children:"Wet the filter paper, and put the cap on. Place the mug upside-down on the aeropress and flip to be the normal orientation."})}},{key:"renderInstructions",value:function(){return Object(m.jsxs)("div",{className:"recipe__instructions",children:[Object(m.jsxs)("div",{className:"recipe__instructions__row",children:[Object(m.jsx)("div",{className:"recipe__button-col"}),this.renderHeatWaterStep()]}),Object(m.jsxs)("div",{className:"recipe__instructions__row",children:[Object(m.jsx)("div",{className:"recipe__button-col"}),this.renderGrindCoffeeStep()]}),Object(m.jsxs)("div",{className:"recipe__instructions__row",children:[Object(m.jsx)("div",{className:"recipe__button-col"}),this.renderInvertStep()]}),Object(m.jsxs)("div",{className:"recipe__instructions__row",children:[Object(m.jsx)("div",{className:"recipe__button-col"}),this.renderPourCoffeeStep()]}),this.renderBloomStep(),Object(m.jsxs)("div",{className:"recipe__instructions__row",children:[Object(m.jsx)("div",{className:"recipe__button-col"}),this.renderAddWaterStep()]}),Object(m.jsxs)("div",{className:"recipe__instructions__row",children:[Object(m.jsx)("div",{className:"recipe__button-col"}),this.renderStirStep()]}),this.renderBrewStep(),Object(m.jsxs)("div",{className:"recipe__instructions__row",children:[Object(m.jsx)("div",{className:"recipe__button-col"}),this.renderEndInvertStep()]}),Object(m.jsxs)("div",{className:"recipe__instructions__row",children:[Object(m.jsx)("div",{className:"recipe__button-col"}),Object(m.jsx)("div",{className:"recipe__instruction",children:"Press."})]})]})}},{key:"renderShare",value:function(){return Object(m.jsxs)("div",{className:"recipe-share",children:[Object(m.jsx)("strong",{children:"Liked this recipe?"}),Object(m.jsx)("div",{className:"recipe-share__text",children:"Save or share this URL to find it again!"}),Object(m.jsx)("input",{className:"recipe-share__textbox",readOnly:!0,value:this.recipeUrl(),onFocus:function(e){return e.target.select()}})]})}},{key:"renderRecipe",value:function(){return this.state.started?Object(m.jsx)(u.a,{classNames:"example",timeout:500,unmountOnExit:!0,appear:!0,children:Object(m.jsxs)("div",{className:"recipe",children:[this.renderInstructions(),this.renderShare()]})},0):Object(m.jsx)(u.a,{classNames:"example",timeout:500,unmountOnExit:!0,appear:!0,children:Object(m.jsx)("div",{})},1)}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"App-recipe",children:[Object(m.jsx)("h1",{children:Object(m.jsx)("button",{className:"btn btn-primary",onClick:this.handleClick.bind(this),children:"Generate a Recipe"})}),Object(m.jsx)("div",{className:"card",children:Object(m.jsx)("div",{className:"card-block",children:Object(m.jsx)(j.a,{children:this.renderRecipe()})})})]})}}]),s}(r.a.Component),N=s.p+"static/media/aeropress.8214f2d0.svg",k=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var e=new URLSearchParams(window.location.search).get("recipe");return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsxs)("header",{className:"App-header",children:[Object(m.jsx)("img",{src:N,className:"App-logo",alt:"logo"}),Object(m.jsx)("h1",{className:"App-title",children:"Random Aeropress Recipe"})]}),Object(m.jsx)(S,{recipeHash:e}),Object(m.jsx)("footer",{className:"App-footer",children:Object(m.jsxs)("p",{children:["Built with \u2665 by ",Object(m.jsx)("a",{href:"https://github.com/thewinniewu",children:"thewinniewu"}),Object(m.jsx)("br",{}),"Inspired by ",Object(m.jsx)("a",{href:"https://web.archive.org/web/20171208104650/https://jimseven.com/2017/12/06/coffee-brewing-dice/",target:"_blank",rel:"noopener noreferrer",children:"James Hoffmann\u2019s Coffee Brewing Dice"})," | Aeropress icon made by ",Object(m.jsx)("a",{href:"https://www.flaticon.com/authors/monkik",target:"_blank",rel:"noopener noreferrer",children:"monkik"})]})})]})}}]),s}(r.a.Component),T=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,28)).then((function(t){var s=t.getCLS,i=t.getFID,r=t.getFCP,n=t.getLCP,c=t.getTTFB;s(e),i(e),r(e),n(e),c(e)}))};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(k,{})}),document.getElementById("root")),T()}},[[24,1,2]]]);
//# sourceMappingURL=main.d95653a6.chunk.js.map
